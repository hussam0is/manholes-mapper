## Manholes Mapper PWA

A lightweight canvas-based PWA for mapping manholes/lines with offline-first support.

### Project structure
- `public/`: Static assets served as-is (icons, manifest, offline page, health check).
- `src/`: Application source modules
  - `legacy/`: Temporary location for the old monolithic `main.js` while being modularized
  - `serviceWorker/`: Service worker registration and offline guards
  - `state/`, `utils/`, `graph/`, `dom/`, `admin/`: Modular code
- `dist/`: Production build output (generated by Vite)

### Scripts
- `npm run dev`: Start Vite dev server
- `npm run build`: Build for production
- `npm run preview`: Serve the production build locally
- `npm run lint`: Lint the codebase
- `npm run lint:fix`: Lint and autofix
- `npm run format`: Prettier format

### Notes
- Service worker file lives in `public/service-worker.js` and is registered from `src/serviceWorker/register-sw.js`.
- The legacy file `src/legacy/main.js` is intentionally ignored by ESLint for now; migrate functionality into modules under `src/` progressively.

### Dev tips
- If hosting under a sub-path, `vite.config.ts` already uses a relative base (`./`).
- Build emits stable filenames `main.js` and `styles.css` to match the service worker cache list.
